import { AppColors, AppSizes } from '../constants/AppConstants'

@Component
export struct StatusBar {
  @State currentTime: string = '10:24'
  @State barHeight: number = 44

  aboutToAppear() {
    // ä»globalè·å–çŠ¶æ€æ é«˜åº¦ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤å€¼
    if (globalThis.AppStorage && globalThis.AppStorage['statusBarHeight']) {
      this.barHeight = globalThis.AppStorage['statusBarHeight'];
    } else {
      this.barHeight = 44; // é»˜è®¤çŠ¶æ€æ é«˜åº¦
    }
  }

  build() {
    Row() {
      Text(this.currentTime)
        .fontSize(AppSizes.FONT_BASE)
        .fontWeight(FontWeight.Medium)
        .fontColor(AppColors.TEXT_PRIMARY)
      
      Blank()
      
      Row() {
        Text('ğŸ“¶')
          .fontSize(AppSizes.ICON_XS)
          .fontColor(AppColors.TEXT_PRIMARY)
        Text('ğŸ”‹')
          .fontSize(AppSizes.ICON_XS)
          .fontColor(AppColors.TEXT_PRIMARY)
      }
    }
    .width('100%')
    .height(this.barHeight)
    .padding({ left: AppSizes.SPACING_LG, right: AppSizes.SPACING_LG })
    .backgroundColor('transparent')
  }
} 